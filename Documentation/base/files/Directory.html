<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
	    
	    	<title>TerraME Types and Functions</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					<a href="http://www.terrame.org">
					<img src='../img/terrame.png'/><br/></div></a>
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>base</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Agent.html">Agent</a>
					</li>
				
			
		
					<li>
						<a href="../files/Automaton.html">Automaton</a>
					</li>
				
			
		
					<li>
						<a href="../files/Cell.html">Cell</a>
					</li>
				
			
		
					<li>
						<a href="../files/CellularSpace.html">CellularSpace</a>
					</li>
				
			
		
					<li>
						<a href="../files/Chart.html">Chart</a>
					</li>
				
			
		
					<li>
						<a href="../files/Choice.html">Choice</a>
					</li>
				
			
		
					<li>
						<a href="../files/Clock.html">Clock</a>
					</li>
				
			
		
					<li><strong>Directory</strong></li>
				
			
		
					<li>
						<a href="../files/Environment.html">Environment</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/Event.html">Event</a>
					</li>
				
			
		
					<li>
						<a href="../files/File.html">File</a>
					</li>
				
			
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
					<li>
						<a href="../files/Group.html">Group</a>
					</li>
				
			
		
					<li>
						<a href="../files/InternetSender.html">InternetSender</a>
					</li>
				
			
		
					<li>
						<a href="../files/Jump.html">Jump</a>
					</li>
				
			
		
					<li>
						<a href="../files/Log.html">Log</a>
					</li>
				
			
		
					<li>
						<a href="../files/Mandatory.html">Mandatory</a>
					</li>
				
			
		
					<li>
						<a href="../files/Map.html">Map</a>
					</li>
				
			
		
					<li>
						<a href="../files/Model.html">Model</a>
					</li>
				
			
		
					<li>
						<a href="../files/Neighborhood.html">Neighborhood</a>
					</li>
				
			
		
		
		
					<li>
						<a href="../files/Random.html">Random</a>
					</li>
				
			
		
					<li>
						<a href="../files/SocialNetwork.html">SocialNetwork</a>
					</li>
				
			
		
					<li>
						<a href="../files/Society.html">Society</a>
					</li>
				
			
		
					<li>
						<a href="../files/State.html">State</a>
					</li>
				
			
		
					<li>
						<a href="../files/TextScreen.html">TextScreen</a>
					</li>
				
			
		
					<li>
						<a href="../files/Timer.html">Timer</a>
					</li>
				
			
		
					<li>
						<a href="../files/Trajectory.html">Trajectory</a>
					</li>
				
			
		
					<li>
						<a href="../files/UnitTest.html">UnitTest</a>
					</li>
				
			
		
		
					<li>
						<a href="../files/VisualTable.html">VisualTable</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	
		<h1>Functions</h1>
	

	<ul>
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/ErrorHandling.html">ErrorHandling</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/OS.html">OS</a>
					</li>
				
			
		
					<li>
						<a href="../files/Package.html">Package</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
					<li>
						<a href="../files/Utils.html">Utils</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->

	
		<h1><a href="../files/data.html">Data</a></h1>
	



<!-- Font -->

	
		<h1><a href="../files/font.html">Font</a></h1>
	




				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Directory
					
					
					</h1>

					
						<span class="description"></span>
					
					
					
					

					
						
						<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">



<span class="description">

An abstract representation of a directory. When creating an instance of a Directory, it does not mean that such directory will be created. It only verifies if the directory has a valid name. Directory also converts backslashes into slashes to make sure paths are represented in the same way in different operational systems. This type provides a set of operations to handle directories, such as to verify if it exists, create, and remove.</span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>name</strong>: A mandatory string with the directory name. It can also be a <a href=../files/File.html>File</a>. In this case, its value will be <a href=../files/File.html#path>File:path()</a>. This argument can be used as a first argument in a call to Directory without named arguments, as in the example below.
    </li> 
    
  
    <li>
	  <strong>tmp</strong>: An optional boolean value indicating whether the directory should be temporary. The default value is false. When creating a temporary directory, the end of its name must contain X's, which are going to be replaced by random alphanumerical values in order to guarantee that the created directory will not replace a previous one.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">dir</span> = <span class="function">Directory</span>(<span class="string">"/my/path/my_dir"</span>)

<span class="id">tmpDir</span> = <span class="function">Directory</span>{
   <span class="id">name</span> = <span class="string">"mytmpdir_XXX"</span>,
   <span class="id">tmp</span> = <span class="reserved">true</span>
}

<span class="id">print</span>(<span class="id">tmpDir</span>)</code></pre>




</dd>


						
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#attributes">attributes</a>&nbsp;
<td class="summary">Return a table with the file attributes corresponding to filepath (or nil followed by an error message in case of error).</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#create">create</a>&nbsp;
<td class="summary">Create the directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#delete">delete</a>&nbsp;
<td class="summary">Remove an existing directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#exists">exists</a>&nbsp;
<td class="summary">Return whether the directory is stored in the computer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#list">list</a>&nbsp;
<td class="summary">Return a vector of strings with the content of the directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#name">name</a>&nbsp;
<td class="summary">Return the name of a given directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#path">path</a>&nbsp;
<td class="summary">Return the path of a given directory.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#relativePath">relativePath</a>&nbsp;
<td class="summary">Return a relative path given a small path.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#setCurrentDir">setCurrentDir</a>&nbsp;
<td class="summary">Set the current working directory with the directory path.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#..">..</a>&nbsp;
<td class="summary">Concatenate the directory.</td>
									</tr>
								
							
						
						</table>
					

					

					<!--<br/>
					<br/>-->

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="attributes">

	</a><strong>attributes</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a table with the file attributes corresponding to filepath (or nil followed by an error message in case of error). If the second optional argument is given, then only the value of the named attribute is returned. The attributes are described as follows; attribute mode is a string, all the others are numbers, and the time related attributes use the same time reference of os.time. This function uses stat internally thus if the given filepath is a symbolic link, it is followed (if it points to another link the chain is followed recursively) and the information is about the file it refers to.</span>


	


<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string with the name of the attribute to be read.
    </li> 
    
      </span>
      <!-- Strategy of the argument -->
       
      <table class="arg_tab">
	  
      
        <tr>
        
          
            <th>
            Attribute
            </th>
          
          
            <th>
            Description
            </th>
          
        
        <tr>
        
          
            <td>
            "dev"
            </td>
          
          
            <td>
            on Unix systems, this represents the device that the inode resides on. On Windows systems, represents the drive number of the disk containing the file
            </td>
          
        
        <tr>
        
          
            <td>
            "ino"
            </td>
          
          
            <td>
            on Unix systems, this represents the inode number. On Windows systems this has no meaning
            </td>
          
        
        <tr>
        
          
            <td>
            "mode"
            </td>
          
          
            <td>
            string representing the associated protection mode (the values could be file, directory, link, socket, named pipe, char device, block device or other)
            </td>
          
        
        <tr>
        
          
            <td>
            "nlink"
            </td>
          
          
            <td>
            number of hard links to the file
            </td>
          
        
        <tr>
        
          
            <td>
            "uid"
            </td>
          
          
            <td>
            user-id of owner (Unix only, always 0 on Windows)
            </td>
          
        
        <tr>
        
          
            <td>
            "gid"
            </td>
          
          
            <td>
            group-id of owner (Unix only, always 0 on Windows)
            </td>
          
        
        <tr>
        
          
            <td>
            "rdev"
            </td>
          
          
            <td>
            on Unix systems, represents the device type, for special file inodes. On Windows systems represents the same as dev
            </td>
          
        
        <tr>
        
          
            <td>
            "access"
            </td>
          
          
            <td>
            time of last access
            </td>
          
        
        <tr>
        
          
            <td>
            "modification"
            </td>
          
          
            <td>
            time of last data modification
            </td>
          
        
        <tr>
        
          
            <td>
            "change"
            </td>
          
          
            <td>
            time of last file status change
            </td>
          
        
        <tr>
        
          
            <td>
            "size"
            </td>
          
          
            <td>
            file size, in bytes
            </td>
          
        
        <tr>
        
          
            <td>
            "blocks"
            </td>
          
          
            <td>
            block allocated for file; (Unix only)
            </td>
          
        
        <tr>
        
          
            <td>
            "blksize"
            </td>
          
          
            <td>
            optimal file system I/O blocksize; (Unix only)
            </td>
          
        
        </tr>    
      </table>
      <span class="arg">
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="function">Directory</span>(<span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">path</span>..<span class="string">"data"</span>):<span class="function">attributes</span>(<span class="string">"mode"</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="create">

	</a><strong>create</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Create the directory. Returns true if the operation was successful. In case of error, it returns nil plus an error string.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">dir</span> = <span class="function">Directory</span>(<span class="string">"mydirectory"</span>)
<span class="id">dir</span>:<span class="function">create</span>()
<span class="id">print</span>(<span class="id">dir</span>)

<span class="id">tmpDir</span> = <span class="function">Directory</span>{
   <span class="id">name</span> = <span class="string">"mytmpdir_XXX"</span>,
   <span class="id">tmp</span> = <span class="reserved">true</span>
}

<span class="id">print</span>(<span class="id">tmpDir</span>)

<span class="id">dir</span>:<span class="id">delete</span>()
<span class="id">tmpDir</span>:<span class="id">delete</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="delete">

	</a><strong>delete</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove an existing directory. It removes all internal files and directories recursively. If the directory does not exist or it cannot be removed, this function stops with an error.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">dir</span> = <span class="function">Directory</span>(<span class="string">"mydirectory"</span>)
<span class="id">dir</span>:<span class="id">create</span>()
<span class="id">dir</span>:<span class="function">delete</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="exists">

	</a><strong>exists</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return whether the directory is stored in the computer.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="reserved">if</span> <span class="function">Directory</span>(<span class="string">"C:\\TerraME\\bin"</span>):<span class="function">exists</span>() <span class="reserved">then</span>
    <span class="id">print</span>(<span class="string">"is dir"</span>)
<span class="reserved">end</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="list">

	</a><strong>list</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a vector of strings with the content of the directory.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A boolean value indicating whether hidden files should be returned. The default value is false.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">files</span> = <span class="id">packageInfo</span>(<span class="string">"base"</span>).<span class="id">data</span>:<span class="function">list</span>()

<span class="id">forEachElement</span>(<span class="id">files</span>, <span class="reserved">function</span>(<span class="id">_</span>, <span class="id">file</span>)
    <span class="id">print</span>(<span class="id">file</span>)
<span class="reserved">end</span>)</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="name">

	</a><strong>name</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the name of a given directory. It is the last directory name given a full path.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(<span class="function">Directory</span>(<span class="string">"c:\\terrame\\bin\\"</span>):<span class="function">name</span>()) <span class="comment">-- "bin"</span>

<span class="id">print</span>(<span class="function">Directory</span>(<span class="string">"/usr/local/bin"</span>):<span class="function">name</span>()) <span class="comment">-- "bin"</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="path">

	</a><strong>path</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the path of a given directory. In windows, it converts all backslashes into slashes.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">print</span>(<span class="function">Directory</span>(<span class="string">"c:\\terrame\\bin\\"</span>):<span class="function">path</span>()) <span class="comment">-- "c:/terrame"</span>

<span class="id">print</span>(<span class="function">Directory</span>(<span class="string">"/usr/local/bin"</span>):<span class="function">path</span>()) <span class="comment">-- "/usr/local"</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="relativePath">

	</a><strong>relativePath</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a relative path given a small path.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A Directory or a string with a shorter path.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">d</span> = <span class="function">Directory</span>(<span class="string">"/my/full/path"</span>)
<span class="id">print</span>(<span class="id">d</span>:<span class="function">relativePath</span>(<span class="string">"/my"</span>)) <span class="comment">-- "full/path"</span></code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="setCurrentDir">

	</a><strong>setCurrentDir</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Set the current working directory with the directory path. Returns true in case of success or nil plus an error string.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="function">Directory</span>(<span class="string">"c:\\tests"</span>):<span class="function">setCurrentDir</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="..">

	</a><strong>..</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Concatenate the directory. It adds a path separator whenever needed.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A string or an object that can be concatenated.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">path</span> = <span class="id">sessionInfo</span>().<span class="id">path</span>..<span class="string">"data"</span></code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

